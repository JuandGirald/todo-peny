<div class="relative" data-controller="dropdown">
  <button type="button" 
          class="flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700"
          data-action="dropdown#toggle">
    <span>Sort by: <%= sort_label(params[:sort_by]) %></span>
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </button>

  <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 hidden"
       data-dropdown-target="menu">
    <% sort_options.each do |key, label| %>
      <%= link_to label, tasks_path(status: params[:status], sort_by: key),
          class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 #{params[:sort_by] == key ? 'bg-gray-50' : ''}" %>
    <% end %>
  </div>
</div>
